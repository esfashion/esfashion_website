import{_ as x}from"./tRsoRx7g.js";import{d as h,m as y,b as k,c as s,a as e,g as S,u as i,F as u,r as c,o,t as a,p as B,A as w}from"./tRvisQ-T.js";import{u as C}from"./Dcu6dFmL.js";import{u as A}from"./C7BoYRwF.js";import{u as j}from"./Cu0vSKxv.js";import"./-3vxJr6i.js";const L=["approved","cancelled","submitted"],U={class:"p-6 space-y-6"},V={class:"flex pb-2 w-full justify-between"},D={class:"flex flex-col gap-2"},F={class:"flex flex-row justify-between"},I={class:"flex flex-col m-1 p-2 border align-middlerounded space-y-4"},M={class:"flex flex-row justify-between"},N={class:"font-bold"},E={class:"flex justify-between items-center border"},O=["onUpdate:modelValue"],P=["value"],R={class:"text-sm"},T={class:"text-sm"},q=["onClick"],X=h({__name:"schedule",setup(z){const{authUser:f,authStatus:m}=C(),_=A(),d=j();y(!1);const g=k(()=>m.value?d.getMyBookings(f.value.uid):[]),v=p=>_.services.filter(l=>p.includes(l.id)).map(l=>l.title);return(p,t)=>{const l=x;return o(),s("div",U,[e("div",V,[S(l,{routePath:"/booking"}),t[2]||(t[2]=e("h2",{class:"text-xl font-bold py-4"},"Schedule",-1))]),e("div",D,[e("div",F,[e("button",{class:"px-4 py-2 rounded bg-gray-200 hover:bg-gray-300",onClick:t[0]||(t[0]=()=>i(d).deleteAllBookings())},"Clear All"),e("button",{class:"px-4 py-2 rounded bg-gray-200 hover:bg-gray-300",onClick:t[1]||(t[1]=()=>i(d).persist())},"Save Changes")]),t[3]||(t[3]=e("div",{class:"flex flex-row justify-between"},[e("h2",{class:"font-bold p-2"},"Current Bookings")],-1)),(o(!0),s(u,null,c(i(g),(n,b)=>(o(),s("div",I,[e("div",M,[e("h1",N,"Booking "+a(b+1),1),e("div",E,[B(e("select",{"onUpdate:modelValue":r=>n.status=r},[(o(!0),s(u,null,c(i(L),r=>(o(),s("option",{value:r},a(r),9,P))),256))],8,O),[[w,n.status]])])]),e("ul",null,[(o(!0),s(u,null,c(v(n?.serviceIds),r=>(o(),s("li",R," - "+a(r),1))),256))]),e("p",T,a(n?.dateISO)+" at "+a(n?.time24),1),e("button",{class:"px-4 py-2 rounded bg-gray-200 hover:bg-gray-300",onClick:()=>i(d).removeBooking(n?.id)},"Delete",8,q)]))),256))])])}}});export{X as default};
