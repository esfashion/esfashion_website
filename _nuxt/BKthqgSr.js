import{_ as U}from"./tRsoRx7g.js";import{_ as T}from"./CmzPT2NN.js";import{C as V,b as H,d as B,m as g,I as L,c as i,o as r,a as e,e as D,F as A,r as j,t as l,u as n,h as W,p as w,v as k,_ as F,g as P}from"./tRvisQ-T.js";import{u as q}from"./Dcu6dFmL.js";import{a as E}from"./D0yAfnW3.js";import"./-3vxJr6i.js";const I=[{id:"prod_001",name:"Haircut Basic",description:"Classic men's haircut",price:20,active:!0,default_price:{currency:"eur"}},{id:"prod_002",name:"Haircut Premium",description:"Haircut with wash and styling",price:35,active:!0,default_price:{currency:"eur"}},{id:"prod_003",name:"Beard Trim",description:"Professional beard trimming",price:15,active:!0,default_price:{currency:"eur"}},{id:"prod_004",name:"Hair Coloring",description:"Full hair coloring service",price:60,active:!1,default_price:{currency:"eur"}},{id:"prod_005",name:"Kids Haircut",description:"Haircut for children under 12",price:12,active:!0,default_price:{currency:"eur"}},{id:"prod_006",name:"Wedding Styling",description:"Special occasion styling",price:120,active:!1,default_price:{currency:"eur"}},{id:"prod_007",name:"Hair Treatment",description:"Repair and nourishment treatment",price:45,active:!0,default_price:{currency:"eur"}},{id:"prod_008",name:"Shampoo & Blow Dry",description:"Wash and professional blow dry",price:25,active:!0,default_price:{currency:"eur"}},{id:"prod_009",name:"Scalp Massage",description:"Relaxing scalp massage",price:18,active:!1,default_price:{currency:"eur"}},{id:"prod_010",name:"Luxury Package",description:"Full premium grooming package",price:150,active:!0,default_price:{currency:"eur"}}],O=()=>{const c=V("stripe-data",()=>I);return{rawStripeProducts:H(()=>c.value),getProducts:async()=>c.value,createProduct:async a=>{c.value.push({...a,id:Date.now()})},updateProduct:async(a,v)=>{const p=c.value.findIndex(b=>b.id===a);p!==-1&&(c.value[p]={...v})},deleteProduct:async a=>{c.value=c.value.filter(v=>v.id!==a)},activateProduct:async a=>{}}},z=()=>{const{getProducts:c,createProduct:m,updateProduct:_,deleteProduct:f,activateProduct:d}=O(),y=V("stripe-products",()=>[]),u=async()=>{y.value=await c()};return{stripeProducts:y,fetchStripeProducts:u,createStripeProduct:async s=>{await m(s),await u()},updateStripeProduct:async s=>{await _(s.id,s),await u()},deleteStripeProduct:async s=>{await f(s.id),await u()},activateStripeProduct:async s=>{await d(s.id),await u()}}},G={class:"max-w-6xl mx-auto p-2 font-sans"},K={class:"hidden md:block overflow-x-auto border rounded-lg shadow"},J={class:"w-full text-left text-sm"},Q={class:"px-4 py-2"},X={class:"px-4 py-2"},Y={class:"px-4 py-2"},Z={key:0,class:"px-4 py-2 text-center flex justify-center space-x-4"},ee=["onClick"],te=["onClick"],se={key:1,class:"px-4 py-2 text-center flex justify-center space-x-4"},oe=["onClick"],ne={class:"md:hidden space-y-4"},ie={class:"text-lg font-semibold"},re={class:"text-sm mt-1"},ae={class:"mt-2 font-medium"},ce={key:0,class:"flex justify-end mt-3 space-x-4"},de=["onClick"],le=["onClick"],ue={key:1,class:"flex justify-end mt-3 space-x-4"},pe=["onClick"],me={key:0,class:"fixed inset-0 bg-black/40 flex items-center justify-center z-50 backdrop-blur-sm"},_e={class:"w-full max-w-md rounded-lg shadow-lg border p-6 mx-3"},fe={class:"text-xl font-semibold mb-4"},ye={class:"space-y-4"},ve={key:0},xe={class:"block text-sm font-medium mb-1"},be={class:"flex justify-end space-x-3 mt-6"},he={type:"submit",class:"px-4 py-2 rounded-md shadow transition"},Pe=B({__name:"StripeDashboard",setup(c){const{stripeProducts:m,fetchStripeProducts:_,createStripeProduct:f,updateStripeProduct:d,deleteStripeProduct:y,activateStripeProduct:u}=z(),a=g(!1),v=g(!1),p=g(!1),b=H(()=>m.value);L(async()=>{await _()});const s=g({id:null,name:"",description:"",price:null,currency:"eur"}),R=async()=>{s.value={name:"",description:"",price:null,currency:"eur"},p.value=!1,a.value=!0},M=async()=>{v.value=!0,await f(s.value),v.value=!1,a.value=!1},S=async x=>{s.value={...x},p.value=!0,a.value=!0},N=async()=>{await d(s.value),a.value=!1},C=async x=>{await y(x)},$=async x=>{await u(x)};return(x,o)=>(r(),i("div",G,[e("div",{class:"flex flex-row justify-between mb-6"},[o[5]||(o[5]=e("h1",{class:"text-xl font-semibold"},"Manage Catalog",-1)),e("button",{onClick:R,class:"bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 text-sm rounded shadow transition"}," + Add Product ")]),e("div",K,[e("table",J,[o[6]||(o[6]=e("thead",{class:"border-b"},[e("tr",null,[e("th",{class:"px-4 py-3 font-medium"},"Name"),e("th",{class:"px-4 py-3 font-medium"},"Description"),e("th",{class:"px-4 py-3 font-medium"},"Price"),e("th",{class:"px-4 py-3 font-medium text-center"},"Actions")])],-1)),e("tbody",null,[(r(!0),i(A,null,j(n(b),t=>(r(),i("tr",{key:t.id,class:"border-b transition"},[e("td",Q,l(t.name),1),e("td",X,l(t.description),1),e("td",Y,l(t.price)+" "+l(t.default_price.currency.toUpperCase()),1),t.active?(r(),i("td",Z,[e("button",{onClick:h=>S(t),class:"transition"}," âœï¸ ",8,ee),e("button",{onClick:h=>C(t),class:"transition"}," ðŸ—‘ï¸ ",8,te)])):(r(),i("td",se,[e("button",{onClick:h=>$(t)}," ðŸ”’ ",8,oe)]))]))),128))])])]),e("div",ne,[(r(!0),i(A,null,j(n(b),t=>(r(),i("div",{key:t.id,class:"border rounded-lg p-4 shadow-sm transition"},[e("h2",ie,l(t.name),1),e("p",re,l(t.description),1),e("p",ae,l(t.price)+" "+l(t.default_price.currency.toUpperCase()),1),t.active?(r(),i("div",ce,[e("button",{onClick:h=>S(t)}," âœï¸ ",8,de),e("button",{onClick:h=>C(t)}," ðŸ—‘ï¸ ",8,le)])):(r(),i("div",ue,[e("button",{onClick:h=>$(t)}," ðŸ”’ ",8,pe)]))]))),128))]),n(a)?(r(),i("div",me,[e("div",_e,[e("h2",fe,l(n(p)?"Edit Product":"Create Product"),1),e("form",{onSubmit:o[4]||(o[4]=W(t=>n(p)?N():M(),["prevent"]))},[e("div",ye,[e("div",null,[o[7]||(o[7]=e("label",{class:"block text-sm font-medium mb-1"},"Product Name",-1)),w(e("input",{"onUpdate:modelValue":o[0]||(o[0]=t=>n(s).name=t),type:"text",class:"w-full border rounded-md px-3 py-2 focus:ring-2 outline-none",required:""},null,512),[[k,n(s).name]])]),e("div",null,[o[8]||(o[8]=e("label",{class:"block text-sm font-medium mb-1"},"Description",-1)),w(e("textarea",{"onUpdate:modelValue":o[1]||(o[1]=t=>n(s).description=t),rows:"3",class:"w-full border rounded-md px-3 py-2 focus:ring-2 outline-none",required:""},null,512),[[k,n(s).description]])]),n(p)?D("",!0):(r(),i("div",ve,[e("label",xe,"Price ("+l(n(s).currency.toUpperCase())+")",1),w(e("input",{"onUpdate:modelValue":o[2]||(o[2]=t=>n(s).price=t),type:"number",step:"0.01",class:"w-full border rounded-md px-3 py-2 focus:ring-2 outline-none",required:""},null,512),[[k,n(s).price]])]))]),e("div",be,[e("button",{type:"button",onClick:o[3]||(o[3]=t=>a.value=!1),class:"px-4 py-2 border rounded-md transition"}," Cancel "),e("button",he,l(n(p)?"Update":"Create"),1)])],32)])])):D("",!0)]))}}),ge=Object.assign(F(Pe,[["__scopeId","data-v-c9e58dd4"]]),{__name:"AdminStripeDashboard"}),we={},ke={class:"flex flex-col space-y-4"},Se={class:"flex flex-row justify-between"},Ce={class:"flex flex-col"},$e={class:"my-2 p-2"};function De(c,m){const _=U,f=T,d=ge;return r(),i("div",ke,[e("div",Se,[P(_,{routePath:"/profile"}),m[0]||(m[0]=e("h1",{class:"font-bold"}," Dashboard",-1))]),e("div",Ce,[P(f,{to:"/booking",label:"General Settings",value:"âœ"})]),e("section",$e,[P(d)])])}const Ae=Object.assign(F(we,[["render",De]]),{__name:"AdminWelcomeView"}),je={class:"p-4 mt-10 min-h-screen"},Ue={key:0},Ve={key:1},He={key:2},Le=B({__name:"dashboard",setup(c){const{authStatus:m,loadingStatus:_}=q();return E(),(f,d)=>{const y=U,u=Ae;return r(),i("div",je,[n(_)?(r(),i("div",Ue,[P(y,{routePath:"/"}),d[0]||(d[0]=e("p",null,"Loading authentication...",-1))])):n(m)?(r(),i("div",He,[P(u)])):(r(),i("div",Ve,[...d[1]||(d[1]=[e("p",null,"Redirecting to login...",-1)])]))])}}});export{Le as default};
