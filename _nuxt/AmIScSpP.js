import{_ as h}from"./tRsoRx7g.js";import{d as A,E as U,L as k,m as D,c as a,a as e,g as j,p as u,v,u as o,A as x,F as f,r as _,h as B,o as d,t as p,f as N,e as T,_ as $}from"./tRvisQ-T.js";import{u as F}from"./C7BoYRwF.js";import"./-3vxJr6i.js";import"./Dcu6dFmL.js";const M={class:"p-6 space-y-6"},q={class:"flex pb-2 w-full justify-between"},L=["value"],O={key:0,class:"flex flex-col sm:flex-row space-y-1 justify-between"},P={class:"font-semibold"},R={key:0,class:"text-xs text-red-500"},z={class:"text-sm text-gray-500"},G={class:"flex gap-2"},H=["onClick"],J=["onClick"],K=["onClick"],Q={key:1,class:"grid gap-2 md:grid-cols-4"},W=["value"],X={class:"flex gap-2"},Y=["onClick"],Z=A({__name:"services",async setup(ee){let y,g;const c=F();[y,g]=U(()=>c.init()),await y,g();const s=k({title:"",price:0,categoryId:""}),m=D(null),r=k({});function C(){!s.title||!s.price||(c.addService({title:s.title,price:s.price,categoryId:s.categoryId,active:!0}),s.title="",s.price=0,s.categoryId="")}function S(l){m.value=l.id,Object.assign(r,l)}function I(l){c.updateService(l,{title:r.title,price:r.price,categoryId:r.categoryId}),b()}function b(){m.value=null,Object.keys(r).forEach(l=>delete r[l])}function V(l){confirm("Delete this service?")&&c.deleteService(l)}function w(l){c.updateService(l.id,{active:l.active===!1})}return(l,t)=>{const E=h;return d(),a("div",M,[e("div",q,[j(E,{routePath:"/booking"}),t[6]||(t[6]=e("h2",{class:"text-xl font-bold py-4"},"Services",-1))]),e("form",{class:"grid gap-2 md:grid-cols-4 border p-4 rounded",onSubmit:B(C,["prevent"])},[u(e("input",{"onUpdate:modelValue":t[0]||(t[0]=i=>o(s).title=i),placeholder:"Title",class:"input",required:""},null,512),[[v,o(s).title]]),u(e("input",{"onUpdate:modelValue":t[1]||(t[1]=i=>o(s).price=i),type:"number",placeholder:"Price €",class:"input",required:""},null,512),[[v,o(s).price,void 0,{number:!0}]]),u(e("select",{"onUpdate:modelValue":t[2]||(t[2]=i=>o(s).categoryId=i),class:"input"},[t[7]||(t[7]=e("option",{value:""},"Select Category...",-1)),(d(!0),a(f,null,_(o(c).categories,i=>(d(),a("option",{key:i.id,value:i.id},p(i.name),9,L))),128))],512),[[x,o(s).categoryId]]),t[8]||(t[8]=e("button",{class:"btn-primary"}," Add Service ",-1))],32),(d(!0),a(f,null,_(o(c).services,i=>(d(),a("div",{key:i.id,class:"border p-4 rounded space-y-2"},[o(m)!==i.id?(d(),a("div",O,[e("div",null,[e("p",P,[N(p(i.title)+" ",1),i.active===!1?(d(),a("span",R,"(inactive)")):T("",!0)]),e("p",z,p(i.price)+" € ",1)]),e("div",G,[e("button",{class:"btn",onClick:n=>S(i)},"Edit",8,H),e("button",{class:"btn",onClick:n=>w(i)},p(i.active===!1?"Activate":"Deactivate"),9,J),e("button",{class:"btn-danger",onClick:n=>V(i.id)}," Delete ",8,K)])])):(d(),a("div",Q,[u(e("input",{"onUpdate:modelValue":t[3]||(t[3]=n=>o(r).title=n),class:"input"},null,512),[[v,o(r).title]]),u(e("input",{"onUpdate:modelValue":t[4]||(t[4]=n=>o(r).price=n),type:"number",class:"input"},null,512),[[v,o(r).price,void 0,{number:!0}]]),u(e("select",{"onUpdate:modelValue":t[5]||(t[5]=n=>o(r).categoryId=n),class:"input"},[t[9]||(t[9]=e("option",{value:""},"Category",-1)),(d(!0),a(f,null,_(o(c).categories,n=>(d(),a("option",{key:n.id,value:n.id},p(n.name),9,W))),128))],512),[[x,o(r).categoryId]]),e("div",X,[e("button",{class:"btn-primary",onClick:n=>I(i.id)},"Save",8,Y),e("button",{class:"btn",onClick:b},"Cancel")])]))]))),128))])}}}),re=$(Z,[["__scopeId","data-v-f9de994d"]]);export{re as default};
