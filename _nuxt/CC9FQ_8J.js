import{x as $,y as V,m as y,b as _,z as N,c as u,o as i,F as h,r as w,n as H,t as x,d as k,a as l,e as F,u as e,g as P,w as j,p as M,A as S,f as b,B,l as q,_ as z,i as L}from"./tRvisQ-T.js";import{_ as A}from"./-3vxJr6i.js";import{u as D}from"./qMngReeC.js";const O={class:"flex flex-wrap gap-1 my-2"},G=["onClick"],T={__name:"BaseFilteringChips",props:$({options:{type:Array,required:!0},category:{type:String,required:!0},itemsList:{type:Array,required:!0}},{modelValue:{type:Array,default:()=>[]},modelModifiers:{}}),emits:["update:modelValue"],setup(r){const a=r,p=V(r,"modelValue"),t=y([]),o=y(a.category),f=n=>n.split("_").join(" ");function g(n){return t.value.includes(n)}function d(n){g(n)?t.value=t.value.filter(c=>c!==n):t.value=[...t.value,n]}const v=_(()=>t.value.length===0?a.itemsList:a.itemsList.filter(n=>t.value.map(c=>c.toLowerCase().split(" ").join("_")).includes(n.metadata[o.value].toLowerCase())));return N(v,n=>{p.value=n},{immediate:!0}),(n,c)=>(i(),u("div",O,[(i(!0),u(h,null,w(r.options,s=>(i(),u("button",{key:s,onClick:m=>d(s),class:H(["px-4 py-1 capitalize rounded-full text-sm font-medium border transition focus:outline-none",g(s)?"bg-blue-100 text-blue-800 me-2 px-2.5 py-0.5 rounded-sm dark:bg-gray-700 dark:text-blue-400 border border-blue-400":"bg-gray-100 text-gray-800 me-2 px-2.5 py-0.5 rounded-sm dark:bg-gray-700 dark:text-gray-400 border border-gray-500"])},x(f(s)),11,G))),128))]))}},U={class:"group flex flex-col overflow-hidden rounded-xl border border-slate-200 dark:border-slate-800 bg-white dark:bg-[#101922] transition hover:shadow-md"},E={class:"aspect-square w-full overflow-hidden bg-slate-100 dark:bg-slate-800"},R=["src","alt"],J={class:"flex flex-col gap-2 p-4"},K={class:"text-sm font-semibold text-slate-900 dark:text-white leading-snug line-clamp-2"},Q={class:"text-base font-bold text-slate-900 dark:text-white"},W=k({__name:"Card",props:{product:{},locale:{}},setup(r){const a=r,p=_(()=>a.product.images?.[0]??null),t=_(()=>new Intl.NumberFormat(a.locale??"de-DE",{style:"currency",currency:a.product.price.currency}).format(a.product.price.amount/100));return(o,f)=>{const g=A;return i(),u("div",U,[l("div",E,[e(p)?(i(),u("img",{key:0,src:e(p),alt:r.product.title,class:"h-full w-full object-cover transition-transform duration-300 group-hover:scale-105",loading:"lazy"},null,8,R)):F("",!0)]),l("div",J,[P(g,{to:`/product/${r.product.slug}`},{default:j(()=>[l("h3",K,x(r.product.title),1)]),_:1},8,["to"]),l("div",Q,x(e(t)),1)])])}}}),X=Object.assign(W,{__name:"CatalogCard"}),Y={class:"flex justify-between items-center mt-6"},Z=["disabled"],ee={class:"text-sm"},te=["disabled"],oe=["value"],se=k({__name:"PaginationControl",props:$(["currentPage","totalPages"],{modelValue:{},modelModifiers:{}}),emits:$(["prevPageHandler","nextPageHandler"],["update:modelValue"]),setup(r,{emit:a}){const p=V(r,"modelValue"),t=r,o=a,f=y([5,10,25,50,100]),g=_(()=>t.currentPage),d=_(()=>t.totalPages);function v(){o("nextPageHandler")}function n(){o("prevPageHandler")}return(c,s)=>(i(),u("div",Y,[l("button",{onClick:n,disabled:e(g)===1,class:"px-3 py-1 rounded disabled:opacity-50"}," Prev ",8,Z),l("span",ee," Page "+x(e(g))+" of "+x(e(d)),1),l("button",{onClick:v,disabled:e(g)===e(d),class:"px-3 py-1 rounded disabled:opacity-50"}," Next ",8,te),M(l("select",{"onUpdate:modelValue":s[0]||(s[0]=m=>p.value=m)},[(i(!0),u(h,null,w(e(f),m=>(i(),u("option",{value:m},x(m),9,oe))),256))],512),[[S,p.value]])]))}}),ae=Object.assign(se,{__name:"BasePaginationControl"}),ne={class:"py-4 flex flex-row justify-between items-center gap-2"},le={class:"text-sm text-pottery-light-text dark:text-pottery-dark-text"},re={class:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-2"},de=k({__name:"Grid",props:["filteredItemList"],setup(r){const a=r,p=_(()=>a.filteredItemList),t=y(5),o=y(1);N(t,()=>{o.value=1});const f=_(()=>Math.max(1,Math.ceil(d.value.length/t.value))),g=_(()=>{const c=(o.value-1)*t.value;return d.value.slice(c,c+t.value)}),d=_(()=>p.value);function v(){o.value<f.value&&o.value++}function n(){o.value>1&&o.value--}return(c,s)=>{const m=ae;return i(),u(h,null,[l("div",ne,[l("p",le,[s[1]||(s[1]=b(" Showing ",-1)),l("span",null,x(e(o)*e(t)-(e(t)-1)),1),s[2]||(s[2]=b(" to ",-1)),l("span",null,x(e(o)*e(t)>e(d).length?e(d).length:e(o)*e(t)),1),s[3]||(s[3]=b(" (of ",-1)),l("span",null,x(e(d).length),1),s[4]||(s[4]=b(") ",-1))])]),l("div",re,[(i(!0),u(h,null,w(e(g),(C,I)=>q(c.$slots,"default",{key:I,item:C})),128))]),P(m,{modelValue:e(t),"onUpdate:modelValue":s[0]||(s[0]=C=>B(t)?t.value=C:null),currentPage:e(o),totalPages:e(f),onNextPageHandler:v,onPrevPageHandler:n},null,8,["modelValue","currentPage","totalPages"])],64)}}}),ie=Object.assign(de,{__name:"CatalogGrid"}),ue={},ce={class:"text-center py-6"};function me(r,a){return i(),u("div",ce,[...a[0]||(a[0]=[l("p",null,"No products found. Please try adjusting your filters or check back later.",-1)])])}const pe=Object.assign(z(ue,[["render",me]]),{__name:"CatalogNotFound"}),ge={class:"p-4"},_e={key:0,class:"container flex items-start"},fe={class:"w-full"},xe={class:"flex items-center justify-between w-full gap-4 my-4 md:gap-8"},ve="category",Pe=k({__name:"catalog",setup(r){const{productList:a,productCategories:p}=D(),t=_(()=>a.value.length>0),o=y([]),f=_(()=>o.value.length?o.value:a.value);return(g,d)=>{const v=T,n=X,c=ie,s=pe;return i(),u("div",ge,[d[1]||(d[1]=l("h1",{class:"text-2xl font-bold py-4"},"Shop",-1)),e(t)?(i(),u("div",_e,[l("div",fe,[l("div",xe,[P(v,{category:ve,options:e(p),itemsList:e(a),modelValue:e(o),"onUpdate:modelValue":d[0]||(d[0]=m=>B(o)?o.value=m:null)},null,8,["options","itemsList","modelValue"])]),P(c,{filteredItemList:e(f)},{default:j(({item:m})=>[(i(),L(n,{key:m.id,product:m},null,8,["product"]))]),_:1},8,["filteredItemList"])])])):(i(),L(s,{key:1}))])}}});export{Pe as default};
