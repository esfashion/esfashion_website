import{_ as T}from"./tRsoRx7g.js";import{d as V,E as A,m as c,b as E,c as a,a as t,g as U,F as _,r as v,e as $,u as n,f as h,t as u,p,v as m,o as l,n as B}from"./tRvisQ-T.js";import{u as N}from"./C7BoYRwF.js";import"./-3vxJr6i.js";import"./Dcu6dFmL.js";const H={class:"p-6 space-y-6"},j={class:"flex pb-2 w-full justify-between"},W={class:"space-y-3"},z={class:"grid grid-cols-2 sm:grid-cols-4 gap-2"},F=["onClick"],P={class:"space-y-3"},I={key:0,class:"text-sm text-blue-600"},L={key:1,class:"text-sm text-slate-500"},M={class:"flex gap-3 items-end"},R=["disabled"],q={key:2,class:"text-sm text-red-500"},G={class:"text-sm text-slate-500"},J={class:"space-y-3"},K={class:"flex justify-between items-center"},O={class:"font-medium"},Q={class:"flex gap-3"},X=["onClick"],Y=["onClick"],Z={class:"flex flex-wrap gap-2"},tt=["onClick"],et={class:"space-y-3"},rt=V({__name:"business-settings",async setup(st){let b,k;const o=N();[b,k]=A(()=>o.init()),await b,k(),c("10:00"),c("15:00");const f=c(!0),r=c(null),i=c({start:"10:00",end:"15:00"}),C=["monday","tuesday","wednesday","thursday","friday","saturday","sunday"],w=E(()=>i.value.start>=i.value.end?!1:r.value!==null||o.workingDays.length>0);function D(){r.value?f.value=o.addTimeToDays([r.value],i.value):f.value=o.addTimeToDays(o.workingDays,i.value)}function g(){o.$patch(()=>{})}function y(x){return x.charAt(0).toUpperCase()+x.slice(1)}return(x,e)=>{const S=T;return l(),a("div",H,[t("div",j,[U(S,{routePath:"/booking"}),e[6]||(e[6]=t("h2",{class:"text-xl font-bold py-4"},"Business Settings",-1))]),t("section",W,[e[7]||(e[7]=t("h2",{class:"font-semibold"},"Working Days",-1)),t("div",z,[(l(),a(_,null,v(C,s=>t("button",{key:s,class:B(["px-3 py-2 rounded border text-sm",n(o).workingDays.includes(s)?"bg-black text-white":"bg-white"]),onClick:d=>n(o).toggleWorkingShift(s)},u(y(s)),11,F)),64))])]),t("section",P,[e[9]||(e[9]=t("h2",{class:"font-semibold"},"Working Hours",-1)),n(r)?(l(),a("p",I,[e[8]||(e[8]=h(" Editing ",-1)),t("strong",null,u(y(n(r))),1),t("button",{class:"ml-2 underline",onClick:e[0]||(e[0]=s=>r.value=null)}," Exit ")])):(l(),a("p",L," Applies to selected days ")),t("div",M,[p(t("input",{type:"time","onUpdate:modelValue":e[1]||(e[1]=s=>n(i).start=s),class:"input"},null,512),[[m,n(i).start]]),p(t("input",{type:"time","onUpdate:modelValue":e[2]||(e[2]=s=>n(i).end=s),class:"input"},null,512),[[m,n(i).end]]),t("button",{class:"btn-primary text-sm px-2 py-1 rounded bg-gray-200 hover:bg-gray-300",onClick:D,disabled:!n(w)}," Add Time ",8,R)]),n(f)?$("",!0):(l(),a("p",q," Conflict: Delete the overlapping interval ")),t("p",G," Selected days: "+u(n(o).workingDays.map(y).join(", ")||"None"),1)]),t("section",J,[e[10]||(e[10]=t("h3",{class:"font-semibold"},"Saved Schedule",-1)),(l(!0),a(_,null,v(n(o).shiftsSummary,s=>(l(),a("div",{key:s.day,class:"border rounded p-4 space-y-2"},[t("div",K,[t("h4",O,u(y(s.day)),1),t("div",Q,[t("button",{class:"text-sm text-blue-600",onClick:d=>r.value=s.day}," Edit ",8,X),t("button",{class:"text-sm text-red-600",onClick:d=>n(o).removeShift(s.day)}," Delete day ",8,Y)])]),t("div",Z,[(l(!0),a(_,null,v(s.times,d=>(l(),a("span",{key:d.start+d.end,class:"px-2 py-1 text-sm rounded bg-slate-100 flex gap-2 items-center"},[h(u(d.start)+" – "+u(d.end)+" ",1),t("button",{class:"text-red-500",onClick:nt=>n(o).removeTime(s.day,d)}," ✕ ",8,tt)]))),128))])]))),128))]),t("section",et,[e[11]||(e[11]=t("h2",{class:"font-semibold"},"Contact Info",-1)),p(t("input",{class:"input w-full",placeholder:"Phone","onUpdate:modelValue":e[3]||(e[3]=s=>n(o).contact.phone=s),onChange:g},null,544),[[m,n(o).contact.phone]]),p(t("input",{class:"input w-full",placeholder:"Email","onUpdate:modelValue":e[4]||(e[4]=s=>n(o).contact.email=s),onChange:g},null,544),[[m,n(o).contact.email]]),p(t("textarea",{class:"input w-full",placeholder:"Address",rows:"3","onUpdate:modelValue":e[5]||(e[5]=s=>n(o).contact.address=s),onChange:g},null,544),[[m,n(o).contact.address]])])])}}});export{rt as default};
