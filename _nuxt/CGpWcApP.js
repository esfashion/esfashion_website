import{U as c,V as s,s as i,z as d}from"./tRvisQ-T.js";import{a as p}from"./Dcu6dFmL.js";import{a as w}from"./D0yAfnW3.js";const P=c(async(h,A)=>{let e,t;const{waitForAuth:r,isAuthenticated:n}=p(),{role:o,isRoleLoading:u}=w();if([e,t]=s(()=>Promise.race([r(),new Promise(a=>setTimeout(a,5e3))])),await e,t(),!n.value)return i("/profile");if([e,t]=s(()=>new Promise(a=>{const m=d([o,u],([l,f])=>{!f&&l!==null&&(m(),a())})})),await e,t(),o.value!=="admin")return i("/profile")});export{P as default};
