import{M as y,m as u}from"./tRvisQ-T.js";import{a as m}from"./C7BoYRwF.js";const A=y("booking-user",()=>{const{removeData:a,loadAllData:l,saveData:f}=m(),r="bookings",e=u([]),s=u(!1);async function c(o){if(s.value||!o)return;const t=await l("bookings");e.value=Array.isArray(t)?t.filter(n=>n&&typeof n=="object"):[],s.value=!0}async function i(){console.log("BOOKINGS: ",e.value);for(const o of e.value)!o||!o.id||await f("bookings",o.id,o)}const d=o=>!o||!Array.isArray(e.value)?[]:e.value.filter(t=>!!t&&typeof t=="object").filter(t=>t.userId===o);function v(o){e.value.find(n=>n.id===o.id)||e.value.push(o),i()}function g(o){e.value=e.value.filter(t=>t.id!==o),a(r,o),i()}function k(){}function b(){e.value.forEach(o=>{a(r,o.id)}),e.value=[],i()}return{myBookings:e,init:c,persist:i,editBooking:k,addBooking:v,removeBooking:g,deleteAllBookings:b,getMyBookings:d}},{persist:!0});export{A as u};
