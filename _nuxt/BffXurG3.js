import{_ as N}from"./tRsoRx7g.js";import{d as V,E as A,L as B,m as v,c as o,a as e,g as D,p as b,v as y,u as r,h as S,F as m,r as $,o as a,f as T,e as j,t as g,B as F,_ as I}from"./tRvisQ-T.js";import{u as L}from"./C7BoYRwF.js";import"./-3vxJr6i.js";import"./Dcu6dFmL.js";const M={class:"p-6 space-y-6"},R={class:"flex pb-2 w-full justify-between"},U={key:0},q={class:"font-semibold"},P={key:0,class:"text-xs text-red-500"},z={key:1,class:"flex gap-2"},G={class:"flex gap-2"},H=["onClick"],J=["onClick"],K=["onClick"],O=["onClick"],Q=V({__name:"categories",async setup(W){let p,f;const l=L();[p,f]=A(()=>l.init()),await p,f();const d=B({name:""}),u=v(null),i=v("");function C(){d.name&&(l.addCategory(d.name),d.name="")}function k(n){u.value=n.id,i.value=n.name}function x(n){i.value&&(l.updateCategory(n,{name:i.value}),_())}function _(){u.value=null,i.value=""}function h(n){confirm("Delete this category?")&&l.deleteCategory(n)}function w(n){l.updateCategory(n.id,{active:n.active===!1})}return(n,s)=>{const E=N;return a(),o("div",M,[e("div",R,[D(E,{routePath:"/booking"}),s[2]||(s[2]=e("h2",{class:"text-xl font-bold py-4"},"Categories",-1))]),e("form",{class:"flex gap-2 items-center border p-4 rounded",onSubmit:S(C,["prevent"])},[b(e("input",{"onUpdate:modelValue":s[0]||(s[0]=t=>r(d).name=t),placeholder:"New category name",class:"input",required:""},null,512),[[y,r(d).name]]),s[3]||(s[3]=e("button",{class:"btn-primary"}," Add ",-1))],32),(a(!0),o(m,null,$(r(l).categories,t=>(a(),o("div",{key:t.id,class:"border p-4 rounded flex flex-col sm:flex-row space-y-1 justify-between"},[r(u)!==t.id?(a(),o("div",U,[e("p",q,[T(g(t.name)+" ",1),t.active===!1?(a(),o("span",P," (inactive) ")):j("",!0)])])):(a(),o("div",z,[b(e("input",{"onUpdate:modelValue":s[1]||(s[1]=c=>F(i)?i.value=c:null),class:"input"},null,512),[[y,r(i)]])])),e("div",G,[r(u)!==t.id?(a(),o(m,{key:0},[e("button",{class:"btn",onClick:c=>k(t)}," Edit ",8,H),e("button",{class:"btn",onClick:c=>w(t)},g(t.active===!1?"Activate":"Deactivate"),9,J),e("button",{class:"btn-danger",onClick:c=>h(t.id)}," Delete ",8,K)],64)):(a(),o(m,{key:1},[e("button",{class:"btn-primary",onClick:c=>x(t.id)}," Save ",8,O),e("button",{class:"btn",onClick:_}," Cancel ")],64))])]))),128))])}}}),ne=I(Q,[["__scopeId","data-v-25b9b5af"]]);export{ne as default};
