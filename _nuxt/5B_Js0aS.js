import{_ as N}from"./tRsoRx7g.js";import{_ as Q}from"./-3vxJr6i.js";import{C as X,D as Y,d as I,E as ee,m as d,z as te,c as i,o as a,a as e,e as p,g as O,h as g,u as t,w as oe,f as L,p as u,v as b,G as se,B as h,s as re,b as q,t as x,H as D,i as F}from"./tRvisQ-T.js";import{u as le,a as ne}from"./D0yAfnW3.js";import{u as S}from"./Dcu6dFmL.js";const ae=()=>{const{userProfile:$,getUserProfile:c,updateUserProfile:y}=le(),v=X("userProfile",()=>null);return Y(()=>{v.value=$.value}),{profile:v,getProfile:async()=>await c(),updateProfile:async w=>await y(w)}},ie={class:"bg-gray-50 min-h-screen flex flex-col items-center justify-center mt-8 p-4"},de={class:"flex pb-2 w-full justify-between"},ue={class:"flex pb-2 w-full justify-end"},me={key:0,class:"flex pb-2 w-full justify-between"},ce={class:"p-8 grid grid-cols-1 md:grid-cols-2 gap-8"},fe={class:"space-y-4"},pe={class:"mb-4"},ge={class:"flex items-center space-x-2"},be={class:"space-y-6"},xe=["disabled"],ye=I({__name:"UserOverview",async setup($){let c,y;const{role:v}=ne(),{handleLogout:C}=S(),{getProfile:k,updateProfile:w}=ae(),r=([c,y]=ee(()=>k()),c=await c,y(),c),n=d(!1);te(()=>r.address.delivery,A=>{n.value&&(r.address.invoice=A)});async function f(){await w(r)}function E(){C(),re("/profile")}return(A,o)=>{const _=N,P=Q;return a(),i("div",ie,[e("div",de,[O(_,{routePath:"/cart"}),o[7]||(o[7]=e("h2",{class:"text-2xl font-bold py-4"},"User Account",-1))]),e("div",ue,[e("button",{onClick:g(E,["prevent"]),class:"font-bold uppercase text-body bg-neutral-secondary-medium box-border border border-default-medium hover:bg-neutral-tertiary-medium hover:text-heading focus:ring-4 focus:ring-neutral-tertiary shadow-xs font-medium leading-5 rounded-base text-sm px-4 py-2.5 focus:outline-none"},"Logout")]),t(v)==="admin"?(a(),i("div",me,[O(P,{to:"/dashboard",class:"text-sm font-bold uppercase text-pottery-light-primary dark:text-pottery-dark-primary"},{default:oe(()=>[...o[8]||(o[8]=[L("Visit Admin Dashboard",-1)])]),_:1})])):p("",!0),e("div",ce,[e("div",null,[o[13]||(o[13]=e("h2",{class:"text-xl font-semibold mb-4 border-b pb-2"},"User Information",-1)),e("div",fe,[e("div",null,[o[9]||(o[9]=e("label",{class:"block text-sm font-medium text-gray-600"},"Name",-1)),u(e("input",{"onUpdate:modelValue":o[0]||(o[0]=l=>t(r).full_name=l),type:"text",class:"w-full px-4 py-3 border-2 placeholder:text-gray-800 rounded-md outline-none focus:ring-4 border-gray-300 focus:border-gray-600 ring-gray-100"},null,512),[[b,t(r).full_name]])]),e("div",null,[o[10]||(o[10]=e("label",{class:"block text-sm font-medium text-gray-600"},"Username",-1)),u(e("input",{"onUpdate:modelValue":o[1]||(o[1]=l=>t(r).username=l),type:"text",class:"w-full px-4 py-3 border-2 placeholder:text-gray-800 rounded-md outline-none focus:ring-4 border-gray-300 focus:border-gray-600 ring-gray-100"},null,512),[[b,t(r).username]])]),e("div",null,[o[11]||(o[11]=e("label",{class:"block text-sm font-medium text-gray-600"},"Phone",-1)),u(e("input",{"onUpdate:modelValue":o[2]||(o[2]=l=>t(r).phone=l),type:"tel",class:"w-full px-4 py-3 border-2 placeholder:text-gray-800 rounded-md outline-none focus:ring-4 border-gray-300 focus:border-gray-600 ring-gray-100"},null,512),[[b,t(r).phone]])]),e("div",null,[o[12]||(o[12]=e("label",{class:"block text-sm font-medium text-gray-600"},"Email",-1)),u(e("input",{"onUpdate:modelValue":o[3]||(o[3]=l=>t(r).email=l),type:"email",class:"w-full px-4 py-3 border-2 placeholder:text-gray-800 rounded-md outline-none focus:ring-4 border-gray-300 focus:border-gray-600 ring-gray-100"},null,512),[[b,t(r).email]])])])]),e("div",null,[o[17]||(o[17]=e("h2",{class:"text-xl font-semibold mb-4 border-b pb-2"},"Addresses",-1)),e("div",pe,[e("label",ge,[u(e("input",{type:"checkbox","onUpdate:modelValue":o[4]||(o[4]=l=>h(n)?n.value=l:null),class:"h-4 w-4 text-pottery-light-link border-gray-300 rounded"},null,512),[[se,t(n)]]),o[14]||(o[14]=e("span",{class:"text-sm text-gray-700"},"Use the same address for Delivery and Invoice",-1))])]),e("div",be,[e("div",null,[o[15]||(o[15]=e("label",{class:"block text-sm font-medium text-gray-600"},"Delivery Address",-1)),u(e("textarea",{"onUpdate:modelValue":o[5]||(o[5]=l=>t(r).address.delivery=l),rows:"2",class:"w-full px-4 py-3 border-2 placeholder:text-gray-800 rounded-md outline-none h-36 focus:ring-4 border-gray-300 focus:border-gray-600 ring-gray-100"},null,512),[[b,t(r).address.delivery]])]),e("div",null,[o[16]||(o[16]=e("label",{class:"block text-sm font-medium text-gray-600"},"Invoice Address",-1)),u(e("textarea",{"onUpdate:modelValue":o[6]||(o[6]=l=>t(r).address.invoice=l),rows:"2",disabled:t(n),class:"w-full px-4 py-3 border-2 placeholder:text-gray-800 rounded-md outline-none h-36 focus:ring-4 border-gray-300 focus:border-gray-600 ring-gray-100"},null,8,xe),[[b,t(r).address.invoice]])])])])]),e("div",{class:"mt-6 w-full max-w-4xl text-right"},[e("button",{onClick:f,class:"inline-flex items-center px-4 py-2 text-sm font-medium text-center text-white bg-blue-700 rounded-lg hover:bg-blue-800 focus:ring-4 focus:outline-none focus:ring-blue-300 dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-800"}," Save ")])])}}}),ve=Object.assign(ye,{__name:"ProfileUserOverview"}),we={class:"w-full flex flex-col items-center justify-center mt-8 py-2 px-4"},he={class:"flex w-full justify-between"},ke={class:"flex items-center justify-center gap-2 mt-2"},_e={class:"w-full max-w-sm"},Pe={class:"w-full max-w-sm mt-2"},Ue={class:"flex flex-row mt-4 items-center justify-center gap-2 text-sm"},Ce={key:0,class:"space-y-4"},Ae={key:0,class:"text-sm text-red-500"},Re={key:0,class:"space-y-4"},Ve={class:"text-2xl font-semibold text-center mt-6 mb-4"},$e={key:0},Ee={class:"flex flex-row"},Te=["type"],Le={key:1},Oe=["type"],Ie={key:2,class:"text-sm text-red-500"},Se={class:"mt-4 text-center text-sm"},je={key:1,class:"space-y-4"},De={key:0,class:"text-sm text-red-500"},Fe={key:2,class:"mt-4 text-center text-sm"},Ne=I({__name:"Auth",setup($){const{handleLoginWithPassword:c,handleEmailPasswordReset:y,handleLoginWithOTP:v,handleLoginWithProvider:C,authStatus:k,handleRegistration:w}=S(),r=d(!1),n=d(!1),f=d(!1),E=d(""),A=d(""),o=d("password"),_=d(""),P=d(""),l=d(""),R=d(""),U=d(""),T=d(""),V=d(""),B=q(()=>o.value!=="password");function W(){f.value=!1,n.value=!1,r.value=!r.value}function M(){r.value=!1,n.value=!1,f.value=!f.value}function G(){r.value=!1,f.value=!1,n.value=!n.value}function j(){o.value=o.value==="password"?"text":"password"}async function H(){y(l.value)}async function z(){v(P.value)}async function Z(){C()}async function J(){if(V.value="",n.value){if(U.value!==T.value){V.value="Passwords do not match";return}await w(R.value,U.value,_.value)}else await c(R.value,U.value),k.value?console.log("Signed In"):console.log(V)}return(We,s)=>{const K=N;return a(),i("div",we,[e("div",he,[O(K,{routePath:"/"}),s[6]||(s[6]=e("h2",{class:"text-2xl font-bold py-4"},"Account",-1))]),e("div",ke,[e("div",_e,[e("div",Pe,[e("div",Ue,[e("button",{type:"button",onClick:g(M,["prevent"]),class:"text-white bg-[#0f1419] hover:bg-[#0f1419]/90 focus:ring-4 focus:outline-none focus:ring-[#0f1419]/50 box-border border border-transparent font-medium leading-5 rounded-base text-sm px-4 py-2.5 text-center inline-flex items-center dark:hover:bg-[#24292F] dark:focus:ring-[#24292F]/55"},[...s[7]||(s[7]=[L(" Sign In With ",-1),e("span",{class:"font-black px-2"},"OTP",-1)])]),e("button",{type:"button",onClick:g(Z,["prevent"]),class:"text-white bg-[#4285F4] hover:bg-[#4285F4]/90 focus:ring-4 focus:outline-none focus:ring-[#4285F4]/50 box-border border border-transparent font-medium leading-5 rounded-base text-sm px-4 py-2.5 text-center inline-flex items-center dark:focus:ring-[#4285F4]/55"},[...s[8]||(s[8]=[e("span",{class:"px-2"},"Sign In With",-1),e("svg",{class:"w-4 h-4 me-1.5","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"currentColor",viewBox:"0 0 24 24"},[e("path",{"fill-rule":"evenodd",d:"M12.037 21.998a10.313 10.313 0 0 1-7.168-3.049 9.888 9.888 0 0 1-2.868-7.118 9.947 9.947 0 0 1 3.064-6.949A10.37 10.37 0 0 1 12.212 2h.176a9.935 9.935 0 0 1 6.614 2.564L16.457 6.88a6.187 6.187 0 0 0-4.131-1.566 6.9 6.9 0 0 0-4.794 1.913 6.618 6.618 0 0 0-2.045 4.657 6.608 6.608 0 0 0 1.882 4.723 6.891 6.891 0 0 0 4.725 2.07h.143c1.41.072 2.8-.354 3.917-1.2a5.77 5.77 0 0 0 2.172-3.41l.043-.117H12.22v-3.41h9.678c.075.617.109 1.238.1 1.859-.099 5.741-4.017 9.6-9.746 9.6l-.215-.002Z","clip-rule":"evenodd"})],-1)])])]),t(f)?(a(),i("form",Ce,[s[10]||(s[10]=e("h1",{class:"text-2xl font-semibold text-center mt-6 mb-4"}," Sign In With OTP ",-1)),t(E)?(a(),i("p",Ae,x(t(E)),1)):p("",!0),s[11]||(s[11]=e("p",{class:"py-4"},"Enter the email to receive the access link",-1)),e("div",null,[s[9]||(s[9]=e("label",{for:"email",class:"block text-sm font-medium"},"Email",-1)),u(e("input",{"onUpdate:modelValue":s[0]||(s[0]=m=>h(P)?P.value=m:null),id:"email",type:"email",required:"",class:"w-full px-4 py-3 border-2 placeholder:text-gray-800 rounded-md outline-none focus:ring-4 border-gray-300 focus:border-gray-600 ring-gray-100"},null,512),[[b,t(P)]])]),e("button",{onClick:g(z,["prevent"]),class:"text-white bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-lg text-sm px-4 py-2 text-center dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-800 transition"}," Get Link In Email ")])):p("",!0)]),!t(r)&&!t(f)?(a(),i("form",Re,[e("h1",Ve,x(t(n)?"Register":"Login"),1),t(n)?(a(),i("div",$e,[s[12]||(s[12]=e("label",{for:"name",class:"block text-sm font-medium"},"Name",-1)),u(e("input",{"onUpdate:modelValue":s[1]||(s[1]=m=>h(_)?_.value=m:null),id:"name",type:"text",required:"",class:"w-full px-4 py-3 border-2 placeholder:text-gray-800 rounded-md outline-none focus:ring-4 border-gray-300 focus:border-gray-600 ring-gray-100"},null,512),[[b,t(_)]])])):p("",!0),e("div",null,[s[13]||(s[13]=e("label",{for:"email",class:"block text-sm font-medium"},"Email",-1)),u(e("input",{"onUpdate:modelValue":s[2]||(s[2]=m=>h(R)?R.value=m:null),id:"email",type:"email",required:"",class:"w-full px-4 py-3 border-2 placeholder:text-gray-800 rounded-md outline-none focus:ring-4 border-gray-300 focus:border-gray-600 ring-gray-100"},null,512),[[b,t(R)]])]),e("div",null,[s[14]||(s[14]=e("label",{for:"password",class:"block text-sm font-medium"},"Password",-1)),e("div",Ee,[u(e("input",{"onUpdate:modelValue":s[3]||(s[3]=m=>h(U)?U.value=m:null),id:"password",type:t(o),required:"",class:"w-full px-4 py-3 border-2 placeholder:text-gray-800 rounded-md outline-none focus:ring-4 border-gray-300 focus:border-gray-600 ring-gray-100"},null,8,Te),[[D,t(U)]]),t(B)?(a(),i("button",{key:0,class:"p-2 text-2xl",onClick:g(j,["prevent"])},"x")):(a(),i("button",{key:1,class:"p-2 text-2xl",onClick:g(j,["prevent"])},"â¿"))])]),t(n)?(a(),i("div",Le,[s[15]||(s[15]=e("label",{for:"confirmPassword",class:"block text-sm font-medium"},"Confirm Password",-1)),u(e("input",{"onUpdate:modelValue":s[4]||(s[4]=m=>h(T)?T.value=m:null),id:"confirmPassword",type:t(o),required:"",class:"w-full px-4 py-3 border-2 placeholder:text-gray-800 rounded-md outline-none focus:ring-4 border-gray-300 focus:border-gray-600 ring-gray-100"},null,8,Oe),[[D,t(T)]])])):p("",!0),t(V)?(a(),i("p",Ie,x(t(V)),1)):p("",!0),e("button",{onClick:g(J,["prevent"]),class:"text-white bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-md text-sm px-4 py-2 text-center dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-800 transition"},x(t(n)?"Create Account":"Login"),1),e("p",Se,[L(x(t(n)?"Already have an account?":"Don't have an account?")+" ",1),e("button",{class:"font-bold hover:font-black hover:underline",onClick:g(G,["prevent"])},x(t(n)?"Login":"Register"),1)])])):p("",!0),t(r)&&!t(f)?(a(),i("form",je,[s[17]||(s[17]=e("h1",{class:"text-2xl font-semibold text-center mt-6 mb-4"}," Reset Password ",-1)),t(A)?(a(),i("p",De,x(t(A)),1)):p("",!0),s[18]||(s[18]=e("p",{class:"py-4"},"Enter the email to receive a reset email",-1)),e("div",null,[s[16]||(s[16]=e("label",{for:"email",class:"block text-sm font-medium"},"Email",-1)),u(e("input",{"onUpdate:modelValue":s[5]||(s[5]=m=>h(l)?l.value=m:null),id:"email",type:"email",required:"",class:"w-full px-4 py-3 border-2 placeholder:text-gray-800 rounded-md outline-none focus:ring-4 border-gray-300 focus:border-gray-600 ring-gray-100"},null,512),[[b,t(l)]])]),e("button",{onClick:g(H,["prevent"]),class:"text-white bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-lg text-sm px-4 py-2 text-center dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-800 transition"}," Get Reset Email ")])):p("",!0),t(f)?p("",!0):(a(),i("p",Fe,[L(x(t(r)?"Return to sign in?":"Forgot your password?")+" ",1),e("button",{class:"font-bold hover:font-black hover:underline",onClick:g(W,["prevent"])},x(t(r)?"Click Here":"Reset"),1)]))])])])}}}),qe=Object.assign(Ne,{__name:"ProfileAuth"}),Be={class:"mt-8 bg-gray-50 min-h-screen flex flex-col items-center"},Je=I({__name:"profile",setup($){const{authStatus:c}=S(),y=q(()=>c.value);return(v,C)=>{const k=ve,w=qe;return a(),i("div",Be,[t(y)?(a(),F(k,{key:0})):(a(),F(w,{key:1}))])}}});export{Je as default};
